\label{index_md_README}%
\Hypertarget{index_md_README}%
A .NET Core REST client for the Constructor.\+io API\hypertarget{index_autotoc_md1}{}\doxysection{Constructor-\/\+IO Netcore Client}\label{index_autotoc_md1}
\href{http://constructor.io/}{\texttt{ Constructor.\+io}} provides search as a service that optimizes results using artificial intelligence (including natural language processing, re-\/ranking to optimize for conversions, and user personalization).\hypertarget{index_autotoc_md2}{}\doxysection{Installation}\label{index_autotoc_md2}

\begin{DoxyCode}{0}
\DoxyCodeLine{ConstructorioConfig config = \textcolor{keyword}{new} ConstructorioConfig(\textcolor{stringliteral}{"{}apiKey"{}}, \textcolor{stringliteral}{"{}apiToken"{}});}
\DoxyCodeLine{ConstructorIO constructorio = \textcolor{keyword}{new} ConstructorIO(config);}

\end{DoxyCode}
\hypertarget{index_autotoc_md3}{}\doxysection{Uploading a Catalog}\label{index_autotoc_md3}
To upload your product catalog, you will need to create a {\ttfamily Catalog\+Request}. In this request, you can specify the files you want to upload (items, variations, and item groups) and the section you want to send the upload. You can also set a notification e-\/mail to be alerted when a file ingestion fails.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Create a files dictionary and add the relevant files}}
\DoxyCodeLine{StreamContent itemsStream = \textcolor{keyword}{new} StreamContent(File.OpenRead(\textcolor{stringliteral}{"{}./catalog/items.csv"{}}));}
\DoxyCodeLine{itemsStream.Headers.ContentType = \textcolor{keyword}{new} MediaTypeHeaderValue(\textcolor{stringliteral}{"{}text/csv"{}});}
\DoxyCodeLine{StreamContent variationsStream = \textcolor{keyword}{new} StreamContent(File.OpenRead(\textcolor{stringliteral}{"{}./catalog/variations.csv"{}}));}
\DoxyCodeLine{variationsStream.Headers.ContentType = \textcolor{keyword}{new} MediaTypeHeaderValue(\textcolor{stringliteral}{"{}text/csv"{}});}
\DoxyCodeLine{StreamContent itemGroupsStream = \textcolor{keyword}{new} StreamContent(File.OpenRead(\textcolor{stringliteral}{"{}./catalog/item\_groups.csv"{}}));}
\DoxyCodeLine{itemGroupsStream.Headers.ContentType = \textcolor{keyword}{new} MediaTypeHeaderValue(\textcolor{stringliteral}{"{}text/csv"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{Dictionary<string, StreamContent> files = \textcolor{keyword}{new} Dictionary<string, StreamContent>()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}items"{}}, itemsStream \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}variations"{}}, variationsStream \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}item\_groups"{}}, itemGroupsStream \},}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create a CatalogRequest with files to upload and the section to upload to}}
\DoxyCodeLine{CatalogRequest request = \textcolor{keyword}{new} CatalogRequest(files);}
\DoxyCodeLine{request.Section = \textcolor{stringliteral}{"{}Products"{}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Set a notification e-\/mail}}
\DoxyCodeLine{request.NotificationEmail = \textcolor{stringliteral}{"{}integration@company.com"{}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Set the force flag if the catalog should be processed even if it will invalidate a large number of existing items}}
\DoxyCodeLine{request.Force = \textcolor{keyword}{true};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Send a request to replace the catalog (sync)}}
\DoxyCodeLine{CatalogResponse response = constructorio.Catalog.ReplaceCatalog(request);}

\end{DoxyCode}
\hypertarget{index_autotoc_md4}{}\doxysection{Retrieving Autocomplete Results}\label{index_autotoc_md4}
To retrieve autocomplete results, you will need to create an {\ttfamily Autocomplete\+Request}. In this request you can specify the number of results you want per autocomplete section. If the results are for a specific user, you can also create a {\ttfamily User\+Info} object, which will allow you to retrieve personalized results.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Create an AutocompleteRequest with the term to request results for}}
\DoxyCodeLine{AutocompleteRequest request = \textcolor{keyword}{new} AutocompleteRequest(\textcolor{stringliteral}{"{}rain coat"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Define the number of results to show per section}}
\DoxyCodeLine{request.ResultsPerSection = \textcolor{keyword}{new} Dictionary<string, int>}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}Products"{}}, 6 \},}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}Search Suggestions"{}}, 8 \},}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create a UserInfo object with the unique device identifier and session}}
\DoxyCodeLine{UserInfo userInfo = \textcolor{keyword}{new} UserInfo(\textcolor{stringliteral}{"{}device-\/id-\/1123123"{}}, 5);}
\DoxyCodeLine{request.UserInfo = userInfo;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add a variations map to request specific variation attributes as an array or object (optional)}}
\DoxyCodeLine{VariationsMap variationsMap = \textcolor{keyword}{new} VariationsMap();}
\DoxyCodeLine{variationMap.AddGroupByRule(\textcolor{stringliteral}{"{}url"{}}, \textcolor{stringliteral}{"{}data.url"{}});}
\DoxyCodeLine{variationMap.AddValueRule(\textcolor{stringliteral}{"{}variation\_id"{}}, AggregationTypes.First, \textcolor{stringliteral}{"{}data.variation\_id"{}});}
\DoxyCodeLine{variationMap.AddValueRule(\textcolor{stringliteral}{"{}deactivated"{}}, AggregationTypes.First, \textcolor{stringliteral}{"{}data.deactivated"{}});}
\DoxyCodeLine{request.VariationMap = variationsMap;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Request results as an object}}
\DoxyCodeLine{AutocompleteResponse response = constructorio.Autocomplete.GetAutocompleteResults(request);}

\end{DoxyCode}
\hypertarget{index_autotoc_md5}{}\doxysection{Retrieving Search Results}\label{index_autotoc_md5}
To retrieve search results, you will need to create a {\ttfamily Search\+Request}. In this request you can specify the number of results you want per page, the page you want, sorting instructions, and also filter the results by category or facets. If the results are for a specific user, you can also create a {\ttfamily User\+Info} object, which will allow you to retrieve personalized results.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Create a SearchRequest with the term to request results for}}
\DoxyCodeLine{SearchRequest request = \textcolor{keyword}{new} SearchRequest(\textcolor{stringliteral}{"{}peanut butter"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add in additional parameters}}
\DoxyCodeLine{request.ResultsPerPage = 5;}
\DoxyCodeLine{request.Page = 1;}
\DoxyCodeLine{request.SortBy = \textcolor{stringliteral}{"{}Price"{}};}
\DoxyCodeLine{request.Filters = \textcolor{keyword}{new} Dictionary<string, List<string>>()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}Brand"{}}, \textcolor{keyword}{new} List<string>() \{ \textcolor{stringliteral}{"{}Jif"{}} \} \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add the following paramaters to request for hidden fields or facets}}
\DoxyCodeLine{request.HiddenFields = \textcolor{keyword}{new} List<string>}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{stringliteral}{"{}hidden\_price\_field"{}},}
\DoxyCodeLine{    \textcolor{stringliteral}{"{}hidden\_brand\_facet"{}},}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create a UserInfo object with the unique device identifier and session}}
\DoxyCodeLine{UserInfo userInfo = \textcolor{keyword}{new} UserInfo(\textcolor{stringliteral}{"{}device-\/id-\/1123123"{}}, 5);}
\DoxyCodeLine{request.UserInfo = userInfo;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add a variations map to request specific variation attributes as an array or object (optional)}}
\DoxyCodeLine{VariationsMap variationsMap = \textcolor{keyword}{new} VariationsMap();}
\DoxyCodeLine{variationMap.AddGroupByRule(\textcolor{stringliteral}{"{}url"{}}, \textcolor{stringliteral}{"{}data.url"{}});}
\DoxyCodeLine{variationMap.AddValueRule(\textcolor{stringliteral}{"{}variation\_id"{}}, AggregationTypes.First, \textcolor{stringliteral}{"{}data.variation\_id"{}});}
\DoxyCodeLine{variationMap.AddValueRule(\textcolor{stringliteral}{"{}deactivated"{}}, AggregationTypes.First, \textcolor{stringliteral}{"{}data.deactivated"{}});}
\DoxyCodeLine{request.VariationMap = variationsMap;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Request results as an object}}
\DoxyCodeLine{SearchResponse res = constructorio.Search.GetSearchResults(request);}

\end{DoxyCode}
\hypertarget{index_autotoc_md6}{}\doxysection{Retrieving Browse Results}\label{index_autotoc_md6}
To retrieve browse results, you will need to create a {\ttfamily Browse\+Request}. When creating the {\ttfamily Browse\+Request} the filter name can be one of {\ttfamily collection\+\_\+id}, {\ttfamily group\+\_\+id}, or a facet name (i.\+e. Brand). In this request, you can also specify the number of results you want per page, the page you want, sorting instructions, and also filter the results by category or facets. If the results are for a specific user, you can also create a {\ttfamily User\+Info} object, which will allow you to retrieve personalized results.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Create a BrowseRequest with the filter name and filter value to request results for}}
\DoxyCodeLine{BrowseRequest request = \textcolor{keyword}{new} BrowseRequest(\textcolor{stringliteral}{"{}group\_id"{}}, \textcolor{stringliteral}{"{}8193"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add in additional parameters}}
\DoxyCodeLine{request.ResultsPerPage = 5;}
\DoxyCodeLine{request.Page = 1;}
\DoxyCodeLine{request.SortBy = \textcolor{stringliteral}{"{}Price"{}};}
\DoxyCodeLine{request.Filters = \textcolor{keyword}{new} Dictionary<string, List<string>>()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}Brand"{}}, \textcolor{keyword}{new} List<string>() \{ \textcolor{stringliteral}{"{}Jif"{}} \} \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add the following paramaters to request for hidden fields or facets}}
\DoxyCodeLine{request.HiddenFields = \textcolor{keyword}{new} List<string>}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{stringliteral}{"{}hidden\_price\_field"{}},}
\DoxyCodeLine{    \textcolor{stringliteral}{"{}hidden\_brand\_facet"{}},}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create a UserInfo object with the unique device identifier and session}}
\DoxyCodeLine{UserInfo userInfo = \textcolor{keyword}{new} UserInfo(\textcolor{stringliteral}{"{}device-\/id-\/1123123"{}}, 5);}
\DoxyCodeLine{request.UserInfo = userInfo;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add a variations map to request specific variation attributes as an array or object (optional)}}
\DoxyCodeLine{VariationsMap variationsMap = \textcolor{keyword}{new} VariationsMap();}
\DoxyCodeLine{variationMap.AddGroupByRule(\textcolor{stringliteral}{"{}url"{}}, \textcolor{stringliteral}{"{}data.url"{}});}
\DoxyCodeLine{variationMap.AddValueRule(\textcolor{stringliteral}{"{}variation\_id"{}}, AggregationTypes.First, \textcolor{stringliteral}{"{}data.variation\_id"{}});}
\DoxyCodeLine{variationMap.AddValueRule(\textcolor{stringliteral}{"{}deactivated"{}}, AggregationTypes.First, \textcolor{stringliteral}{"{}data.deactivated"{}});}
\DoxyCodeLine{request.VariationMap = variationsMap;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Request results as an object}}
\DoxyCodeLine{BrowseResponse response = constructor.browse(request);}

\end{DoxyCode}
\hypertarget{index_autotoc_md7}{}\doxysection{Retrieving Browse Results for Item ID\textquotesingle{}s}\label{index_autotoc_md7}
To retrieve browse results for a supplied list of item ID\textquotesingle{}s, you will need to create a {\ttfamily Browse\+Items\+Request}. When creating the {\ttfamily Browse\+Items\+Request} the {\ttfamily item\+Ids} parameter will be a list of item ID\textquotesingle{}s. In this request, you can also specify the number of results you want per page, the page you want, sorting instructions, and also filter the results by category or facets. If the results are for a specific user, you can also create a {\ttfamily User\+Info} object, which will allow you to retrieve personalized results.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Create a BrowseItemsRequest with the filter name and filter value to request results for}}
\DoxyCodeLine{BrowseItemsRequest request = \textcolor{keyword}{new} BrowseItemsRequest(Arrays.asList(\textcolor{stringliteral}{"{}t-\/shirt-\/xxl"{}}));}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add in additional parameters}}
\DoxyCodeLine{request.ResultsPerPage = 5;}
\DoxyCodeLine{request.Page = 1;}
\DoxyCodeLine{request.SortBy = \textcolor{stringliteral}{"{}Price"{}};}
\DoxyCodeLine{request.Filters = \textcolor{keyword}{new} Dictionary<string, List<string>>()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \{ \textcolor{stringliteral}{"{}Brand"{}}, \textcolor{keyword}{new} List<string>() \{ \textcolor{stringliteral}{"{}Jif"{}} \} \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add the following paramaters to request for hidden fields or facets}}
\DoxyCodeLine{request.HiddenFields = \textcolor{keyword}{new} List<string>}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{stringliteral}{"{}hidden\_price\_field"{}},}
\DoxyCodeLine{    \textcolor{stringliteral}{"{}hidden\_brand\_facet"{}},}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create a UserInfo object with the unique device identifier and session}}
\DoxyCodeLine{UserInfo userInfo = \textcolor{keyword}{new} UserInfo(\textcolor{stringliteral}{"{}device-\/id-\/1123123"{}}, 5);}
\DoxyCodeLine{request.UserInfo = userInfo;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Request results as an object}}
\DoxyCodeLine{BrowseResponse response = constructor.browseItems(request, userInfo);}

\end{DoxyCode}
\hypertarget{index_autotoc_md8}{}\doxysection{Retrieving Recommendation Results}\label{index_autotoc_md8}
To retrieve recommendation results, you will need to create a {\ttfamily Recommendations\+Request}. In this request, you can also specify the number of results you want and the items (given the ids) that you want to retrieve recommendations for. If the results are for a specific user, you can also create a {\ttfamily User\+Info} object, which will allow you to retrieve personalized results.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Create a RecommendationsRequest with the pod id to request results for}}
\DoxyCodeLine{RecommendationsRequest request = \textcolor{keyword}{new} RecommendationsRequest(\textcolor{stringliteral}{"{}pdp\_complementary\_items"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add in additional parameters}}
\DoxyCodeLine{request.NumResults = 5;}
\DoxyCodeLine{request.ItemIds = \textcolor{keyword}{new} List<string> \{ \textcolor{stringliteral}{"{}9838172"{}} \};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Create a UserInfo object with the unique device identifier and session}}
\DoxyCodeLine{UserInfo userInfo = \textcolor{keyword}{new} UserInfo(\textcolor{stringliteral}{"{}device-\/id-\/1123123"{}}, 5);}
\DoxyCodeLine{request.UserInfo = userInfo;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add a variations map to request specific variation attributes as an array or object (optional)}}
\DoxyCodeLine{VariationsMap variationsMap = \textcolor{keyword}{new} VariationsMap();}
\DoxyCodeLine{variationMap.AddGroupByRule(\textcolor{stringliteral}{"{}url"{}}, \textcolor{stringliteral}{"{}data.url"{}});}
\DoxyCodeLine{variationMap.AddValueRule(\textcolor{stringliteral}{"{}variation\_id"{}}, AggregationTypes.First, \textcolor{stringliteral}{"{}data.variation\_id"{}});}
\DoxyCodeLine{variationMap.AddValueRule(\textcolor{stringliteral}{"{}deactivated"{}}, AggregationTypes.First, \textcolor{stringliteral}{"{}data.deactivated"{}});}
\DoxyCodeLine{request.VariationMap = variationsMap;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Request results as an object}}
\DoxyCodeLine{RecommendationsResponse response = constructor.recommendations(request, userInfo);}

\end{DoxyCode}
\hypertarget{index_autotoc_md9}{}\doxysection{Retrieving All Tasks}\label{index_autotoc_md9}
To retrieve all tasks, you will need to create a {\ttfamily All\+Tasks\+Request}. In this request you can also specify the page and number of results per page. The page and number of results per page will default to 1 and 20 respectively.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Create a AllTasksRequest to request results for}}
\DoxyCodeLine{AllTasksRequest request = \textcolor{keyword}{new} AllTasksRequest();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add in additional parameters}}
\DoxyCodeLine{request.Page = 2;}
\DoxyCodeLine{request.ResultsPerPage = 10;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//Request all tasks as an object}}
\DoxyCodeLine{AllTasksResponse response = constructor.Tasks.GetAllTasks(request);}

\end{DoxyCode}
\hypertarget{index_autotoc_md10}{}\doxysection{Retrieving Task with task\+\_\+id}\label{index_autotoc_md10}
To retrieve a specific task with a task\+\_\+id, you will need to create a {\ttfamily Task\+Request}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Create a TaskRequest with the task\_id to retrieve}}
\DoxyCodeLine{TaskRequest request = \textcolor{keyword}{new} TaskRequest(\textcolor{stringliteral}{"{}12345"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//Request task as an object}}
\DoxyCodeLine{Task response = constructor.Task.GetTask(request);}

\end{DoxyCode}
\hypertarget{index_autotoc_md11}{}\doxysection{Development}\label{index_autotoc_md11}
\hypertarget{index_autotoc_md12}{}\doxysubsection{Using VS Code}\label{index_autotoc_md12}

\begin{DoxyItemize}
\item Download \char`\"{}.\+NET Core Test Explorer\char`\"{} Extension
\item In settings =\texorpdfstring{$>$}{>} .NET Core Test Explorer =\texorpdfstring{$>$}{>} Test Project Path\+: Constructorio\+\_\+\+NET/\+Constructorio\+\_\+\+NET.\+Tests
\end{DoxyItemize}\hypertarget{index_autotoc_md13}{}\doxysubsection{For code coverage\+:}\label{index_autotoc_md13}

\begin{DoxyItemize}
\item if initial setup\+:
\begin{DoxyItemize}
\item dotnet husky install
\end{DoxyItemize}
\item dotnet husky run -\/g coverage
\end{DoxyItemize}\hypertarget{index_autotoc_md14}{}\doxysubsection{Documentation}\label{index_autotoc_md14}

\begin{DoxyItemize}
\item Documentation generated by \href{https://doxygen.nl/download.html}{\texttt{ Doxygen}} for Mac OS X 10.\+14 and later 
\end{DoxyItemize}